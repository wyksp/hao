<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>我的导航</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="jquery-3.6.0.min.js"></script>
    <script>
        let colSpn0 = 2;
        if (screen.width >= 1920) {
            colSpn0 = 6
        } else if (screen.width >= 1080) {
            colSpn0 = 5
        } else if (screen.width >= 720) {
            colSpn0 = 4
        }
        $.getJSON('data.json', function (data) {
            const mytable = document.getElementById('mytable');
            for (let groupPosition = 0; groupPosition < data.length; groupPosition++) {
                const groupTitle = data[groupPosition];
                const groupTitleRow = mytable.insertRow();
                const groupTitleCell = groupTitleRow.insertCell();
                groupTitleCell.colSpan = colSpn0
                groupTitleCell.setAttribute("class", "group-title")
                groupTitleCell.innerHTML = groupTitle.name;
                let groupChildSize = groupTitle.child.length;
                for (let rowPosition = 0; rowPosition < Math.ceil(groupTitle.child.length / colSpn0); rowPosition++) {
                    const childRow = mytable.insertRow();
                    let temp = colSpn0;
                    if (groupChildSize > colSpn0) temp = colSpn0;
                    else temp = groupChildSize;
                    groupChildSize = groupChildSize - colSpn0;
                    for (var childPosition = 0; childPosition < temp; childPosition++) {
                        var childCell = childRow.insertCell();
                        var childTitle = groupTitle.child[rowPosition * colSpn0 + childPosition];
                        childCell.innerHTML = "<a href='" + childTitle.url + "' title='" + childTitle.url + "'>" + childTitle.name + "</a>";
                    }
                }
            }
        });

    </script>
</head>
<body>
<table id="mytable">

</table>
</body>
</html>